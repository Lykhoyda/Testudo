{
	"id": "1c70ce0a-af18-46bf-8d26-582e63894bf6",
	"prevId": "c5d16107-2582-482c-9f88-989a0654b16c",
	"version": "7",
	"dialect": "postgresql",
	"tables": {
		"public.domains": {
			"name": "domains",
			"schema": "",
			"columns": {
				"id": {
					"name": "id",
					"type": "serial",
					"primaryKey": true,
					"notNull": true
				},
				"domain": {
					"name": "domain",
					"type": "varchar(255)",
					"primaryKey": false,
					"notNull": true
				},
				"threat_type": {
					"name": "threat_type",
					"type": "varchar(50)",
					"primaryKey": false,
					"notNull": true
				},
				"confidence": {
					"name": "confidence",
					"type": "numeric(3, 2)",
					"primaryKey": false,
					"notNull": true
				},
				"sources": {
					"name": "sources",
					"type": "text[]",
					"primaryKey": false,
					"notNull": true
				},
				"is_fuzzy_match": {
					"name": "is_fuzzy_match",
					"type": "boolean",
					"primaryKey": false,
					"notNull": true,
					"default": false
				},
				"matched_legitimate": {
					"name": "matched_legitimate",
					"type": "varchar(255)",
					"primaryKey": false,
					"notNull": false
				},
				"metadata": {
					"name": "metadata",
					"type": "jsonb",
					"primaryKey": false,
					"notNull": false
				},
				"first_seen": {
					"name": "first_seen",
					"type": "timestamp",
					"primaryKey": false,
					"notNull": true,
					"default": "now()"
				},
				"last_updated": {
					"name": "last_updated",
					"type": "timestamp",
					"primaryKey": false,
					"notNull": true,
					"default": "now()"
				},
				"created_at": {
					"name": "created_at",
					"type": "timestamp",
					"primaryKey": false,
					"notNull": true,
					"default": "now()"
				}
			},
			"indexes": {
				"idx_domains_domain": {
					"name": "idx_domains_domain",
					"columns": [
						{
							"expression": "domain",
							"isExpression": false,
							"asc": true,
							"nulls": "last"
						}
					],
					"isUnique": false,
					"concurrently": false,
					"method": "btree",
					"with": {}
				}
			},
			"foreignKeys": {},
			"compositePrimaryKeys": {},
			"uniqueConstraints": {
				"domains_domain_unique": {
					"name": "domains_domain_unique",
					"nullsNotDistinct": false,
					"columns": ["domain"]
				}
			},
			"policies": {},
			"checkConstraints": {},
			"isRLSEnabled": false
		},
		"public.encounters": {
			"name": "encounters",
			"schema": "",
			"columns": {
				"id": {
					"name": "id",
					"type": "serial",
					"primaryKey": true,
					"notNull": true
				},
				"address": {
					"name": "address",
					"type": "varchar(42)",
					"primaryKey": false,
					"notNull": false
				},
				"domain": {
					"name": "domain",
					"type": "varchar(255)",
					"primaryKey": false,
					"notNull": false
				},
				"chain_id": {
					"name": "chain_id",
					"type": "integer",
					"primaryKey": false,
					"notNull": true,
					"default": 1
				},
				"action": {
					"name": "action",
					"type": "varchar(20)",
					"primaryKey": false,
					"notNull": true
				},
				"extension_version": {
					"name": "extension_version",
					"type": "varchar(20)",
					"primaryKey": false,
					"notNull": false
				},
				"created_at": {
					"name": "created_at",
					"type": "timestamp",
					"primaryKey": false,
					"notNull": true,
					"default": "now()"
				}
			},
			"indexes": {
				"idx_encounters_address": {
					"name": "idx_encounters_address",
					"columns": [
						{
							"expression": "address",
							"isExpression": false,
							"asc": true,
							"nulls": "last"
						}
					],
					"isUnique": false,
					"concurrently": false,
					"method": "btree",
					"with": {}
				},
				"idx_encounters_created_at": {
					"name": "idx_encounters_created_at",
					"columns": [
						{
							"expression": "created_at",
							"isExpression": false,
							"asc": true,
							"nulls": "last"
						}
					],
					"isUnique": false,
					"concurrently": false,
					"method": "btree",
					"with": {}
				}
			},
			"foreignKeys": {},
			"compositePrimaryKeys": {},
			"uniqueConstraints": {},
			"policies": {},
			"checkConstraints": {},
			"isRLSEnabled": false
		},
		"public.revocations": {
			"name": "revocations",
			"schema": "",
			"columns": {
				"id": {
					"name": "id",
					"type": "serial",
					"primaryKey": true,
					"notNull": true
				},
				"address": {
					"name": "address",
					"type": "varchar(42)",
					"primaryKey": false,
					"notNull": true
				},
				"chain_id": {
					"name": "chain_id",
					"type": "integer",
					"primaryKey": false,
					"notNull": true,
					"default": 1
				},
				"reason": {
					"name": "reason",
					"type": "text",
					"primaryKey": false,
					"notNull": true
				},
				"revoked_by": {
					"name": "revoked_by",
					"type": "varchar(100)",
					"primaryKey": false,
					"notNull": true
				},
				"is_active": {
					"name": "is_active",
					"type": "boolean",
					"primaryKey": false,
					"notNull": true,
					"default": true
				},
				"created_at": {
					"name": "created_at",
					"type": "timestamp",
					"primaryKey": false,
					"notNull": true,
					"default": "now()"
				}
			},
			"indexes": {
				"idx_revocations_address": {
					"name": "idx_revocations_address",
					"columns": [
						{
							"expression": "address",
							"isExpression": false,
							"asc": true,
							"nulls": "last"
						}
					],
					"isUnique": false,
					"concurrently": false,
					"method": "btree",
					"with": {}
				},
				"idx_revocations_active": {
					"name": "idx_revocations_active",
					"columns": [
						{
							"expression": "is_active",
							"isExpression": false,
							"asc": true,
							"nulls": "last"
						}
					],
					"isUnique": false,
					"concurrently": false,
					"method": "btree",
					"with": {}
				}
			},
			"foreignKeys": {},
			"compositePrimaryKeys": {},
			"uniqueConstraints": {},
			"policies": {},
			"checkConstraints": {},
			"isRLSEnabled": false
		},
		"public.safe_addresses": {
			"name": "safe_addresses",
			"schema": "",
			"columns": {
				"id": {
					"name": "id",
					"type": "serial",
					"primaryKey": true,
					"notNull": true
				},
				"address": {
					"name": "address",
					"type": "varchar(42)",
					"primaryKey": false,
					"notNull": true
				},
				"chain_id": {
					"name": "chain_id",
					"type": "integer",
					"primaryKey": false,
					"notNull": true,
					"default": 1
				},
				"name": {
					"name": "name",
					"type": "varchar(255)",
					"primaryKey": false,
					"notNull": false
				},
				"category": {
					"name": "category",
					"type": "varchar(50)",
					"primaryKey": false,
					"notNull": true
				},
				"is_delegation_safe": {
					"name": "is_delegation_safe",
					"type": "boolean",
					"primaryKey": false,
					"notNull": true,
					"default": false
				},
				"sources": {
					"name": "sources",
					"type": "text[]",
					"primaryKey": false,
					"notNull": true
				},
				"confidence": {
					"name": "confidence",
					"type": "numeric(3, 2)",
					"primaryKey": false,
					"notNull": true
				},
				"metadata": {
					"name": "metadata",
					"type": "jsonb",
					"primaryKey": false,
					"notNull": false
				},
				"first_seen": {
					"name": "first_seen",
					"type": "timestamp",
					"primaryKey": false,
					"notNull": true,
					"default": "now()"
				},
				"last_updated": {
					"name": "last_updated",
					"type": "timestamp",
					"primaryKey": false,
					"notNull": true,
					"default": "now()"
				},
				"created_at": {
					"name": "created_at",
					"type": "timestamp",
					"primaryKey": false,
					"notNull": true,
					"default": "now()"
				}
			},
			"indexes": {
				"idx_safe_address": {
					"name": "idx_safe_address",
					"columns": [
						{
							"expression": "address",
							"isExpression": false,
							"asc": true,
							"nulls": "last"
						}
					],
					"isUnique": false,
					"concurrently": false,
					"method": "btree",
					"with": {}
				},
				"idx_safe_chain_address": {
					"name": "idx_safe_chain_address",
					"columns": [
						{
							"expression": "chain_id",
							"isExpression": false,
							"asc": true,
							"nulls": "last"
						},
						{
							"expression": "address",
							"isExpression": false,
							"asc": true,
							"nulls": "last"
						}
					],
					"isUnique": false,
					"concurrently": false,
					"method": "btree",
					"with": {}
				}
			},
			"foreignKeys": {},
			"compositePrimaryKeys": {},
			"uniqueConstraints": {
				"uq_safe_address_chain": {
					"name": "uq_safe_address_chain",
					"nullsNotDistinct": false,
					"columns": ["address", "chain_id"]
				}
			},
			"policies": {},
			"checkConstraints": {
				"safe_address_lowercase_check": {
					"name": "safe_address_lowercase_check",
					"value": "\"safe_addresses\".\"address\" = LOWER(\"safe_addresses\".\"address\")"
				}
			},
			"isRLSEnabled": false
		},
		"public.safe_filter_builds": {
			"name": "safe_filter_builds",
			"schema": "",
			"columns": {
				"id": {
					"name": "id",
					"type": "serial",
					"primaryKey": true,
					"notNull": true
				},
				"version": {
					"name": "version",
					"type": "varchar(50)",
					"primaryKey": false,
					"notNull": true
				},
				"format": {
					"name": "format",
					"type": "varchar(20)",
					"primaryKey": false,
					"notNull": true,
					"default": "'json'"
				},
				"entry_count": {
					"name": "entry_count",
					"type": "integer",
					"primaryKey": false,
					"notNull": true
				},
				"file_size_bytes": {
					"name": "file_size_bytes",
					"type": "integer",
					"primaryKey": false,
					"notNull": true
				},
				"sha256": {
					"name": "sha256",
					"type": "varchar(64)",
					"primaryKey": false,
					"notNull": true
				},
				"r2_key": {
					"name": "r2_key",
					"type": "varchar(255)",
					"primaryKey": false,
					"notNull": true
				},
				"r2_url": {
					"name": "r2_url",
					"type": "varchar(512)",
					"primaryKey": false,
					"notNull": true
				},
				"revocation_count": {
					"name": "revocation_count",
					"type": "integer",
					"primaryKey": false,
					"notNull": true,
					"default": 0
				},
				"build_duration_ms": {
					"name": "build_duration_ms",
					"type": "integer",
					"primaryKey": false,
					"notNull": false
				},
				"created_at": {
					"name": "created_at",
					"type": "timestamp",
					"primaryKey": false,
					"notNull": true,
					"default": "now()"
				}
			},
			"indexes": {},
			"foreignKeys": {},
			"compositePrimaryKeys": {},
			"uniqueConstraints": {},
			"policies": {},
			"checkConstraints": {},
			"isRLSEnabled": false
		},
		"public.sync_logs": {
			"name": "sync_logs",
			"schema": "",
			"columns": {
				"id": {
					"name": "id",
					"type": "serial",
					"primaryKey": true,
					"notNull": true
				},
				"source": {
					"name": "source",
					"type": "varchar(50)",
					"primaryKey": false,
					"notNull": true
				},
				"status": {
					"name": "status",
					"type": "varchar(20)",
					"primaryKey": false,
					"notNull": true
				},
				"records_added": {
					"name": "records_added",
					"type": "integer",
					"primaryKey": false,
					"notNull": true,
					"default": 0
				},
				"records_updated": {
					"name": "records_updated",
					"type": "integer",
					"primaryKey": false,
					"notNull": true,
					"default": 0
				},
				"error_message": {
					"name": "error_message",
					"type": "text",
					"primaryKey": false,
					"notNull": false
				},
				"duration_ms": {
					"name": "duration_ms",
					"type": "integer",
					"primaryKey": false,
					"notNull": false
				},
				"synced_at": {
					"name": "synced_at",
					"type": "timestamp",
					"primaryKey": false,
					"notNull": true,
					"default": "now()"
				}
			},
			"indexes": {},
			"foreignKeys": {},
			"compositePrimaryKeys": {},
			"uniqueConstraints": {},
			"policies": {},
			"checkConstraints": {},
			"isRLSEnabled": false
		},
		"public.threats": {
			"name": "threats",
			"schema": "",
			"columns": {
				"id": {
					"name": "id",
					"type": "serial",
					"primaryKey": true,
					"notNull": true
				},
				"address": {
					"name": "address",
					"type": "varchar(42)",
					"primaryKey": false,
					"notNull": true
				},
				"chain_id": {
					"name": "chain_id",
					"type": "integer",
					"primaryKey": false,
					"notNull": true,
					"default": 1
				},
				"threat_type": {
					"name": "threat_type",
					"type": "varchar(50)",
					"primaryKey": false,
					"notNull": true
				},
				"threat_level": {
					"name": "threat_level",
					"type": "varchar(20)",
					"primaryKey": false,
					"notNull": true
				},
				"confidence": {
					"name": "confidence",
					"type": "numeric(3, 2)",
					"primaryKey": false,
					"notNull": true
				},
				"sources": {
					"name": "sources",
					"type": "text[]",
					"primaryKey": false,
					"notNull": true
				},
				"metadata": {
					"name": "metadata",
					"type": "jsonb",
					"primaryKey": false,
					"notNull": false
				},
				"first_seen": {
					"name": "first_seen",
					"type": "timestamp",
					"primaryKey": false,
					"notNull": true,
					"default": "now()"
				},
				"last_updated": {
					"name": "last_updated",
					"type": "timestamp",
					"primaryKey": false,
					"notNull": true,
					"default": "now()"
				},
				"created_at": {
					"name": "created_at",
					"type": "timestamp",
					"primaryKey": false,
					"notNull": true,
					"default": "now()"
				}
			},
			"indexes": {
				"idx_threats_address": {
					"name": "idx_threats_address",
					"columns": [
						{
							"expression": "address",
							"isExpression": false,
							"asc": true,
							"nulls": "last"
						}
					],
					"isUnique": false,
					"concurrently": false,
					"method": "btree",
					"with": {}
				}
			},
			"foreignKeys": {},
			"compositePrimaryKeys": {},
			"uniqueConstraints": {
				"threats_address_unique": {
					"name": "threats_address_unique",
					"nullsNotDistinct": false,
					"columns": ["address"]
				}
			},
			"policies": {},
			"checkConstraints": {
				"address_lowercase_check": {
					"name": "address_lowercase_check",
					"value": "\"threats\".\"address\" = LOWER(\"threats\".\"address\")"
				}
			},
			"isRLSEnabled": false
		}
	},
	"enums": {},
	"schemas": {},
	"sequences": {},
	"roles": {},
	"policies": {},
	"views": {},
	"_meta": {
		"columns": {},
		"schemas": {},
		"tables": {}
	}
}
